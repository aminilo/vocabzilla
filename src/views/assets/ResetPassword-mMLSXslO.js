var g=(v,p,r)=>new Promise((w,a)=>{var c=o=>{try{e(r.next(o))}catch(n){a(n)}},l=o=>{try{e(r.throw(o))}catch(n){a(n)}},e=o=>o.done?w(o.value):Promise.resolve(o.value).then(c,l);e((r=r.apply(v,p)).next())});import{a as h,u as y,r as m,e as u,g as t,k,w as x,I as _,K as C,t as f,i as M,f as d}from"./vue-vendors-BgzxvA44.js";import{a as b}from"./index-DZ5Qr93C.js";import"./socket-CF4wHI2V.js";const P={class:"page-container bg"},S={class:"form-box"},B={class:"mb-4 relative"},R=["type"],q={key:0,class:"input-error"},D={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},j={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},N={key:0,class:"text-red-500 mt-4 text-center"},U=h({__name:"ResetPassword",setup(v){const p=M(),r=y(),w=typeof r.query.token=="string"?r.query.token:"",a=m(!1),c=()=>a.value=!a.value,l=m({password:"",token:w}),e=m({password:"",general:""}),o=()=>g(null,null,function*(){var n,s;if(e.value.password=l.value.password.length>0?"":"Password is required.",!e.value.password)try{yield b.get("/csrf-token");const i=yield b.post("/auth/reset-password",l.value);p.push("/login")}catch(i){e.value.general=((s=(n=i==null?void 0:i.response)==null?void 0:n.data)==null?void 0:s.error)||"Reset Failed."}});return(n,s)=>(d(),u("div",P,[t("div",S,[s[5]||(s[5]=t("h3",{class:"text-2xl font-bold text-center mb-6"},"Reset Ur Password",-1)),t("form",{onSubmit:x(o,["prevent"])},[t("div",B,[s[3]||(s[3]=t("label",{for:"password",class:"input-label"},"New Password",-1)),_(t("input",{required:"",id:"password",type:a.value?"text":"password","onUpdate:modelValue":s[0]||(s[0]=i=>l.value.password=i),class:"input-field"},null,8,R),[[C,l.value.password]]),e.value.password?(d(),u("p",q,f(e.value.password),1)):k("",!0),t("button",{type:"button",onClick:c,class:"toggleShowPass"},[a.value?(d(),u("svg",D,s[1]||(s[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)]))):(d(),u("svg",j,s[2]||(s[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)])))])]),s[4]||(s[4]=t("button",{type:"submit",class:"form-btn center-btn"},"Submit",-1))],32),e.value.general?(d(),u("p",N,f(e.value.general),1)):k("",!0)])]))}});export{U as default};
